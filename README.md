# Active_Directory_Lab
 Window Server 2019/Active Directory Home Lab

1.	Download and install Oracle VirtualBox *

3.	Download Windows 10 *
4.	Download Windows Server 2016/2019/2022 *
5.	Create a Windows Server (Domain Controller Virtual Machine *
6.	Insert Guess Additions to CD Image to Domain Controller *
7.	Set Up IP Addressing: Go to network& internet settings, click change adapter settings, identify & rename each NIC adapter by right-clicking and selecting status: 10.x.X.x is external int, whereas 169.X.X.X is due to trouble with DHCP and after obtaining a real IP address. Right-click the internal network,*
8.	Rename the PC: Settings -> About -> Click Rename This PC *
9.	Install Active Directory Domain Services: Click Add roles and feature in server mgr, click next, leave role-based or feature-based installation selected and click next, ensure “select a server from the server pool” is selected, and make sure the desired server is selected in the server pool, click next, select “Active Directory Domain Services” box, click “Add Features”, click next until you can click install.  *
10.	Post Deployment Configuration: Click on the Flag with a yellow triangle with an exclamation point to bring down the Post Deployment notification, and select the notification. Select “Add a new forest” from the “Select the deployment operation”. Enter your desired Root Domain name: ex: mydomain.com. Click next. Enter a simple password (e.g., password1!), Click next to Allow the verification of NetBIOS of the domain, then click next until you can install. After installation, the system/instance will restart. * 
11.	Create a Dedicated Domain Admin Account: Click the start menu, select Windows Admin Tools, and select Active Directory Users and Computers. Right-click the newly created domain, select New, then select Organization Unit.
12.	Create an Admin Organizational Unit
13.	Create a New User Account under the new OU: Right-click the newly created Admin OU, select new, then select User. Enter the User’s information and click next. Enter new user’s password (this example: password1!) Select the appropriate box (user must change password at next login -password reset, User can’t change password – only admin can change password, Password never expires – typical, account is disabled -disables an account). 
14.	Assign New User to Domain Admin: Click on Admin Ou, right-click on user, select properties, select Member OF tab, Select Add.., In the text box -enter “Domain Admin”, select Check Names on the right side to resolve the object name, click OK to exit member of the box, then click apply. *
15.	Check the login of the newly created user: Log/Sign of Domain ctrl, and attempt to sign in with the user’s credentials.
16.	Install Routing and Remote Access /NAT(to allow the client computer which is on a private network to access the internet through our domain controller): Click “Add roles and features in server mgr.”, select role-based or feature-based installation and click next, select “a server from the server pool” radio button ensuring your desire server is selected from the server pool then click next, select “Remote access” box and click next, Click next again until you come upon three options: Web Application Proxy, Routing, DirectAccess and VPN - select routing, Another option will be automatically selected, which is okay. Click next until you can select install. Click install and allow it to finish the installation. select Tools in Server Mgr. Select Routing and Remote Access. Right click Domain Controller and select “Configure and Enable Routing and Remote Access”. Click next. Select the Network Address Translation (NAT) radio button and click next. Select the external network from the dialog box in the “Use this public interface to connect to the Internet” and click next. NOTE: if there aren’t any public networks being shown, exit out of the Routing and Remote access and open it up again. Click next until you can click finish.
17.	Setup DHCP Server on Domain Controller. Click “Add roles and features in server mgr”, select role-based or feature-based installation, and click next, select “a server from the server pool” radio button ensuring your desired server is selected from the server pool then click next, select DHCP server tab/box, click add features, 
18.	Configure DHCP: Click tools in Server Mgr., Click DHCP from the selection, Click the domain ctrl, right-click the IPv4 server in the middle section, select new scope, Assign a New Scope name after the scope range: e.g., 172.16.0.100-200
19.	Lease Duration: Depends on the situation, for the project days, for public areas hours,
20.	DHCP Options: Click “Yes, I want to configure these options now” to assign an IP address for the Default Gateway or Router
21.	Add IP Address for Router: Enter default address for IP ex. 172.16.0.1, click next to use the domain controller as the parent domain. Click next. Ignore the WINS server, and click next. Select “Yes, I want to activate the scope now” To activate the domain scope, click next. Click finish. 
22.	Authorize DHCP server: right-click domain controller in the DHCP window, select authorize, and click refresh.
23.	OPTIONAL: To allow internet connection: click on Local Server in the Server Mgr, scroll until you see “IE enhanced Security Config”, click the “On” hyperlink, and turn off Admin and User Config.
24.	Add User using PowerShell Script: Open Windows PowerShell in Admin, Open the “Create_Users” script in PowerShell, but don’t run. Type: Set-Execution \Policy Unrestricted in PowerShell to allow the run of scripts, press Enter. A dialog box will come up asking if you want to change the execution policy, click Yes to All. In PowerShell, navigate to the directory where the name.txt files are located (e.g., /desktop/AD_PS-master/). Now, click on the Create-Users script to ensure the window is enabled, select file -> Run, or click the green play button. A dialog box will come up asking if you want to run a script from the internet, select Run it Once, and allow the process to finish. (The password for all users is “Password1)
25.	Create a Windows 10 Virtual Machine: Select New Virtual Machine, Name it Client or whatever, select Windows 10 64-bit, increase RAM to 2GB, and Change Shared Clipboard/Drag’n’Drop to Bidirectional in the General/Advanced tab. In Network/Adapter 2, Select Enable Network Adapter, Change Attached to:” to Internal Network, assign the name to your liking. Click OK. Double-click the newly created client. A dialog box will open up to add the Win 10 ISO. Navigate to the directory of the Win 10 ISO. Select it, then click “Mount and Retry Boot.” Select I don’t have a Product Key. Select Win 10 Pro since Win Home does not have domain access. Click next. Select Custom Install. Select the desired drive if you have multiple drives. Click next. Click Install. After installation, select Not to add keyboard select, select Add network later, add an offline account, enter a username, skip adding a password, disable all privacy selections, click skip/not now for other settings, and allow the process to finish. 
26.	New Client Configuration/ Add New Client to Domain Controller: System, rename this PC (advanced), Click Change box, Rename computer name, Select “Domain” in Member Of, Type domain name (e.g., dhowardtech.com), click okay, enter domain username and password of dedicated domain account OR created user account in OU Admin (e.g., a-dthoward/password1!)
27.	Finalize Active Directory Users and Computers
